import{Q as $}from"./QBtn.31925eb5.js";import{c as x,h as j,b as P}from"./vm.6ec6daf4.js";import{i as p,G as N,n as w,p as z,Q as A,C as H,H as g,s as B,R as O,h as d,a2 as _,m as b,q as E,W as D,_ as F,u as I,o as U,j as M,w as V,g as W,A as G,e as Q,d as L,t as K}from"./index.abd329e6.js";function J(){const t=p(!N.value);return t.value===!1&&w(()=>{t.value=!0}),t}const S=typeof ResizeObserver<"u",R=S===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var X=x({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:u}){let s=null,r,o={width:-1,height:-1};function l(a){a===!0||t.debounce===0||t.debounce==="0"?i():s===null&&(s=setTimeout(i,t.debounce))}function i(){if(clearTimeout(s),s=null,r){const{offsetWidth:a,offsetHeight:n}=r;(a!==o.width||n!==o.height)&&(o={width:a,height:n},u("resize",o))}}const{proxy:v}=B();if(S===!0){let a;const n=h=>{r=v.$el.parentNode,r?(a=new ResizeObserver(l),a.observe(r),i()):h!==!0&&H(()=>{n(!0)})};return w(()=>{n()}),z(()=>{clearTimeout(s),a!==void 0&&(a.disconnect!==void 0?a.disconnect():r&&a.unobserve(r))}),A}else{let h=function(){clearTimeout(s),n!==void 0&&(n.removeEventListener!==void 0&&n.removeEventListener("resize",l,O.passive),n=void 0)},y=function(){h(),r&&r.contentDocument&&(n=r.contentDocument.defaultView,n.addEventListener("resize",l,O.passive),i())};const a=J();let n;return w(()=>{H(()=>{r=v.$el,r&&y()})}),z(h),v.trigger=l,()=>{if(a.value===!0)return g("object",{style:R.style,tabindex:-1,type:"text/html",data:R.url,"aria-hidden":"true",onLoad:y})}}}}),Y=x({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:u}){const s=d(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>g("div",{class:s.value,role:"toolbar"},j(u.default))}}),Z=x({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:u,emit:s}){const{proxy:{$q:r}}=B(),o=E(D,_);if(o===_)return console.error("QHeader needs to be child of QLayout"),_;const l=p(parseInt(t.heightHint,10)),i=p(!0),v=d(()=>t.reveal===!0||o.view.value.indexOf("H")>-1||r.platform.is.ios&&o.isContainer.value===!0),a=d(()=>{if(t.modelValue!==!0)return 0;if(v.value===!0)return i.value===!0?l.value:0;const e=l.value-o.scroll.value.position;return e>0?e:0}),n=d(()=>t.modelValue!==!0||v.value===!0&&i.value!==!0),h=d(()=>t.modelValue===!0&&n.value===!0&&t.reveal===!0),y=d(()=>"q-header q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(n.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),k=d(()=>{const e=o.rows.value.top,f={};return e[0]==="l"&&o.left.space===!0&&(f[r.lang.rtl===!0?"right":"left"]=`${o.left.size}px`),e[2]==="r"&&o.right.space===!0&&(f[r.lang.rtl===!0?"left":"right"]=`${o.right.size}px`),f});function c(e,f){o.update("header",e,f)}function m(e,f){e.value!==f&&(e.value=f)}function C({height:e}){m(l,e),c("size",e)}function T(e){h.value===!0&&m(i,!0),s("focusin",e)}b(()=>t.modelValue,e=>{c("space",e),m(i,!0),o.animate()}),b(a,e=>{c("offset",e)}),b(()=>t.reveal,e=>{e===!1&&m(i,t.modelValue)}),b(i,e=>{o.animate(),s("reveal",e)}),b(o.scroll,e=>{t.reveal===!0&&m(i,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const q={};return o.instances.header=q,t.modelValue===!0&&c("size",l.value),c("space",t.modelValue),c("offset",a.value),z(()=>{o.instances.header===q&&(o.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const e=P(u.default,[]);return t.elevated===!0&&e.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(g(X,{debounce:0,onResize:C})),g("header",{class:y.value,style:k.value,onFocusin:T},e)}}});const ee={setup(){const t=W(),u=I(),s=p(d(()=>u.isAuth)),r=p(d(()=>u.user));return{store:u,isAuth:s,user:r,logout:async()=>{try{t.push("/"),u.setIsAuth(!1),u.setUser({}),await G.logout()}catch{}},router:t}}},te=L("span",{class:"text-grey q-mr-sm"},"Logged as: ",-1),oe={class:"q-mr-md tight-text"};function re(t,u,s,r,o,l){return U(),M(Z,{style:{"background-color":"transparent"}},{default:V(()=>[Q(Y,{class:"row justify-end"},{default:V(()=>[te,L("span",oe,K(r.store.user.username),1),Q($,{onClick:r.logout,color:"grey",flat:"",round:"",dense:"",icon:"logout"},null,8,["onClick"])]),_:1})]),_:1})}var ae=F(ee,[["render",re]]),ie=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ae as H,ie as P,X as Q};
